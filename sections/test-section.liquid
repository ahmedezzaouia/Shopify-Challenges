<div class="testimonials">
  <br/>
  <h3 class="testimonials-title"  >{{section.settings.title}}</h3>
  <div class="testimonials-container">
    {% for block in section.blocks %}
    <figure class="snip1157">
      <blockquote class="client-card" style= "color: {{block.settings.client_content_color}};background-color:{{block.settings.client_background_color}}"    >
        {{block.settings.client_content}}
        <div class="arrow"></div>
      </blockquote>
      <img src= "{{block.settings.client_profile_img | img_url :'300x300' }}"  alt="client profile" />
      <div class="author">
        <h5 style= "color: {{block.settings.client_profile_color}}" >{{block.settings.client_name}}<br/><span> {{block.settings.client_job}}</span></h5>
      </div>
    </figure>
    {% endfor %}
  
  </div>
</div>

<!------------- schema code here --------------- -->

{% schema %}
{ 
    "name": "Testimonials",
    "settings":
    [
            {
            "type": "text",
            "id":"title",
            "label":"Title",
            "default":"What People Say"
            },
            {
              "type": "font_picker",
              "id": "title_font",
              "label": "Title font",
              "default": "helvetica_n4"
            },
            {
              "type": "range",
              "id": "title_font_size",
              "min": 10,
              "max": 50,
              "step": 5,
              "unit": "px",
              "label": "Title Font size",
              "default": 40
            },
            {
              "type": "color",
              "id": "title_color",
              "label": "Title Color",
              "default": "#FFFFFF"
            },
            {
              "type": "radio",
              "id": "testimonials_aligment",
              "label": "Testimonials Style",
              "options": [
                {
                  "value": "color",
                  "label": "Use Color"
                },
                {
                  "value": "background",
                  "label": "Use Backgroud Image"
                }
              ],
              "default": "color"
            },
            {
              "type": "color",
              "id": "testimonials_color",
              "label": "Background Color",
              "default": "#106464"
            },
            {
              "type": "image_picker",
              "id": "background_image",
              "label": "Background Image"
            }             
    ],
    "blocks":
              [
                  {
                    "name": "Testimonial",
                    "type": "html",
                    "settings":
                    [
                        {
                          "type": "text",
                          "id": "client_name",
                          "label": "Full Name",
                          "default": "AHMED EZZAOUIIA"
                        },
                        {
                          "type": "color",
                          "id": "client_profile_color",
                          "label": "Full Name Color",
                          "default": "#FFFFFF"
                        },
                        {
                          "type": "image_picker",
                          "id": "client_profile_img",
                          "label": "Avatar Image"
                        },
                        {
                          "type": "text",
                          "id": "client_job",
                          "label": "Client Job",
                          "default": "Shopify Developer"
                        },
                        {
                          "type": "textarea",
                          "id": "client_content",
                          "label": "What Client Say",
                          "default": "Sara: You know sometimes when I'm talking, my words can't keep up with my thoughts... I wonder why we think faster than we speak. Hobbes: Probably so we can think twice."
                        },
                        {
                          "type": "color",
                          "id": "client_content_color",
                          "label": "Quotes Color",
                          "default": "#333"
                        },
                        {
                          "type": "color",
                          "id": "client_background_color",
                          "label": "Background Color",
                          "default": "#fafafa"
                        }
                      
                    ]
                  }        
              ],
    "presets": 
              [
                    {
                    "name": "Testimonials",
                    "category": "Custom",
                    "blocks":
                            [
                                {
                                 "type": "html"
                                },
                                {
                                  "type": "html"
                                },
                                {
                                  "type": "html"                                  
                                }
                            ] 
                  }
              ]
} 
{% endschema %}

<style>
  @import url(https://fonts.googleapis.com/css?family=Raleway:400,800);

  .testimonials {
    {% if section.settings.testimonials_aligment == "color" %}
    background-color: {{section.settings.testimonials_color}};
    {% else %}
    background: url("https:{{section.settings.background_image | img_url: 'large'}}");
    background-position: center;
    background-repeat:no-repeat;
    background-size: cover;
    {% endif %}
  }

  .testimonials-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
    flex-wrap: wrap;
    padding-bottom: 5rem;

  }

  .testimonials-title {
    font-family: {{section.settings.title_font.family}} serif;
    font-size: {{section.settings.title_font_size | append:'px' }};
    color:{{section.settings.title_color}};
    text-transform: uppercase;
    font-weight: 800;
    text-align: center;
    
    /* padding: 2rem; */
  }

  figure.snip1157 {
    font-family: "Raleway", Arial, sans-serif;
    position: relative;
    overflow: hidden;
    margin: 10px;
    min-width: 220px;
    max-width: 310px;
    width: 100%;
    color: #333;
    text-align: left;
    box-shadow: none !important;
  }

  figure.snip1157 * {
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-transition: all 0.35s cubic-bezier(0.25, 0.5, 0.5, 0.9);
    transition: all 0.35s cubic-bezier(0.25, 0.5, 0.5, 0.9);
  }

  figure.snip1157 img {
    max-width: 100%;
    vertical-align: middle;
    height: 90px;
    width: 90px;
    border-radius: 50%;
    margin: 40px 0 0 10px;
  }

  figure.snip1157 blockquote {
    display: block;
    border-radius: 8px;
    position: relative;
    background-color: #fafafa;
    padding: 25px 50px 30px 50px;
    font-size: 0.8em;
    font-weight: 500;
    margin: 0;
    line-height: 1.6em;
    font-style: italic;
  }
  figure.snip1157 blockquote:before,
  figure.snip1157 blockquote:after {
    font-family: "FontAwesome";
    content: "\201C";
    position: absolute;
    font-size: 50px;
    opacity: 0.3;
    font-style: normal;
  }

  figure.snip1157 blockquote:before {
    top: 25px;
    left: 20px;
  }

  figure.snip1157 blockquote:after {
    content: "\201D";
    right: 20px;
    bottom: 0;
  }

  figure.snip1157 .arrow {
    top: 100%;
    width: 0;
    height: 0;
    border-left: 0 solid transparent;
    border-right: 25px solid transparent;
    border-top: 25px solid #fafafa;
    margin: 0;
    position: absolute;
  }

  figure.snip1157 .author {
    position: absolute;
    bottom: 45px;
    padding: 0 10px 0 120px;
    margin: 0;
    text-transform: uppercase;
    color: #ffffff;
    -webkit-transform: translateY(50%);
    transform: translateY(50%);
  }

  figure.snip1157 .author h5 {
    opacity: 0.8;
    margin: 0;
    font-weight: 800;
  }

  figure.snip1157 .author h5 span {
    font-weight: 400;
    text-transform: none;
    padding-left: 5px;
  }

  @media screen and (max-width: 600px) {
    .snip1157 {
      max-width: 392px !important;
    }
  }
</style>

{% javascript %} {% endjavascript %}